<template>

    <lightning-card>
        <div slot="title">
            <div class="slds-media">
                <div class="slds-media__figure">
                    <lightning-icon icon-name="standard:environment_hub" size="large"></lightning-icon>
                </div>
                <div class="slds-media__body">
                    <h3>Package Dependency Viewer</h3>
                    <p class="slds-page-header__name-meta">
                        Shows dependencies for the latest package version for all Unlocked Packages.<br/>
                        Expand tree nodes to see the dependencies for each package version.
                    </p>
                </div>
            </div>
        </div>


        <template if:true={showLoadingSpinner}>
            <lightning-spinner variant="brand" size="large"></lightning-spinner>
        </template>

        <lightning-input type="toggle" label="Show Only Released Package Versions" name="releasedVersionToggle"
                         checked={releasedOnly} onchange={handleToggleChange} slot="actions"
                         message-toggle-active=""
                         message-toggle-inactive="">
        </lightning-input>

        <lightning-tree-grid
                data={packageDependencies}
                columns={columns}
                key-field="name"
                hide-checkbox-column>
        </lightning-tree-grid>


    </lightning-card>

</template>